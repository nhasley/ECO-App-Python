{% extends 'base.html' %}
{% block content %}

<h1>{{user.username}} Profile</h1>
<hr />
<div id="textc">Current Points: 

{% if posts|length == 0 %}
0</div>
<hr />
<div id="textp">Recent Posts</div>
<div id="textp" class="card-panel center-align">No Photos Uploaded</div>
{% else %}
<span></span></div>
<button class="redeem">Redeem Points</button>

<div id="textp">Recent Posts</div>

{% for post in posts %}

<a href="{% url 'detail' post.id %}" class="post-box">
    <div class="card-content">
        <img class="posts" src="{{post.photo}}" style="margin-top: 30px; margin-bottom: 10px; height: 100%; width: 100%; object-fit: cover; max-height: 60vmax; max-width: 60vmax;">
        <p id="text">{{ post.user }}</p>
        <p id="text">{{ post.description }}</p>
    </div>
    <hr />
</a>

{% endfor %}

{% endif %}

<form action="{% url 'logout' %}" id="logout">
    <button type='submit'>Log Out</button>
</form>

<script>
        function imgCount() {
            var imgs = document.getElementsByTagName('img');
            var i=0;
            for (var img in imgs){i++;}
            return (i/2)*10;
        };

        var render = function (template, node) {
            node.innerHTML = template;
        };
        render(imgCount(), document.querySelector('span'));
</script>

{% endblock %}